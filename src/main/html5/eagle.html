<html>
<head>
<title>Tatanka</title>
<meta name="apple-mobile-web-app-capable" content="yes" />
<!-- <style>
* {
	user-select: none;
	-webkit-user-select: none;
	-moz-user-select: none;
	-webkit-user-drag: none;
	-webkit-touch-callout: none;
	/* prevent callout to copy image, etc when tap to hold */
	-webkit-text-size-adjust: none;
	/* prevent webkit from resizing text to fit */
	-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
	/* make transparent link [ remove highlighting ] selection, adjust last value opacity 0 to 1.0 */
	-webkit-user-select: none;
	/* prevent copy paste, to allow, change 'none' to 'text' */
}
</style>
 -->
<style>
canvas {
	border: 0px solid black;
}
</style>
</head>
<body id="body" bgcolor="#000000" onload="init()">
	<script type="text/javascript" src="js/eagle/globals.js"></script>
	<script type="text/javascript" src="js/eagle/timer.js"></script>
	<script type="text/javascript" src="js/eagle/tools.js"></script>
	<script type="text/javascript" src="js/eagle/part.js"></script>
	<script type="text/javascript" src="js/eagle/bone.js"></script>
	<script type="text/javascript" src="js/eagle/thing.js"></script>
	<script type="text/javascript" src="js/eagle/thingcontainer.js"></script>
	<script type="text/javascript" src="js/eagle/ellipse.js"></script>
	<script type="text/javascript" src="js/eagle/boundingcircle.js"></script>
	<script type="text/javascript" src="js/eagle/triangle.js"></script>
	<script type="text/javascript" src="js/eagle/rectangle.js"></script>
	<script type="text/javascript" src="js/eagle/imagething.js"></script>
	<script type="text/javascript" src="js/eagle/partanimation.js"></script>
	<script type="text/javascript" src="js/eagle/compositeanimation.js"></script>
	<script type="text/javascript" src="js/eagle/collisionhandler.js"></script>
	<script type="text/javascript" src="js/eagle/coordinatetap.js"></script>
	<script type="text/javascript" src="js/eagle/modell.js"></script>
	<script type="text/javascript" src="js/eagle/text.js"></script>
	<script type="text/javascript" src="js/eagle/view.js"></script>
	<div id="all">
		<canvas id="canvas" onMouseDown="view.down(event)"
			onMouseUp="view.up(event)" onMouseMove="view.move(event)"
			ontouchstart="view.down(event)" ontouchend="view.up(event)"
			ontouchmove="view.move(event)"></canvas>
	</div>

	<!--   <audio controls="controls" loop="loop" hidden="true" autoplay="autoplay" >
	 <source src="crickets3.wav" type="audio/wav" />
	</audio>
	-->
	<script type="text/javascript">
		var all = document.getElementById("all");
		var imgi = 0;
		var canvaswidth, canvasheight;
		var canvas = document.getElementById("canvas");
		var w, h, scale;
		var phonegap = false;
		var view;

		noPhoneGapSetup = function() {
			if (w == undefined)
				setup();
		}

		setTimeout(noPhoneGapSetup, 400);

		var deviceReady = function() {
			setTimeout(setup, 200);
		}
		init = function() {
			document.addEventListener("deviceready", deviceReady, true);
		}

		setup = function() {
			w = window.innerWidth;
			h = window.innerHeight;

			canvaswidth = w;
			canvasheight = h;
			console.log("cw: " + canvaswidth + " ch: " + canvasheight);

			startMe();
		}

		sign = function(i) {
			if (i < 0)
				return -1;
			if (i > 0)
				return 1;
			return 0;
		}

		startMe = function() {
			document.getElementById("video").setAttribute("style",
					"position:absolute; top:" + 0 + "px; left: " + 0 + "px;");
			document.getElementById("video").setAttribute("width", canvaswidth);
			document.getElementById("video").setAttribute("height",
					canvasheight);

			document.getElementById("canvas").setAttribute("style",
					"position:absolute; top:" + 0 + "px; left: " + 0 + "px;");
			document.getElementById("canvas")
					.setAttribute("width", canvaswidth);
			document.getElementById("canvas").setAttribute("height",
					canvasheight);

			if (services == undefined) {
				view = new View(canvas, new Modell(), 25);
			} else {
				view = services.getView();
				services.getView().enabled = true;
			}
		}
	</script>
</html>
